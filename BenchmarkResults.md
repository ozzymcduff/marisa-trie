# ベンチマーク #

いくつかのキー集合に対して，`marisa-benchmark` を実行してみました．実行環境は以下のとおりです．

| **CPU**        | Core 2 Duo U9600 1.60GHz    |
|:---------------|:----------------------------|
| **OS**         | 64-bit Ubuntu Desktop 10.04 |
| **コンパイラ**      | gcc version 4.4.3           |

  * version: 0.1.5




---


## 日本語版 Wikipedia タイトル ##

```
$ gzip -cd jawiki-20110129-all-titles-in-ns0.gz | head -10000 | tail -5
2005年のオーストラリアグランプリ_(ロードレース)
2005年のオールスターゲーム_(日本プロ野球)
2005年のカタルーニャグランプリ
2005年のカタールグランプリ
2005年のサッカー

$ gzip -cd jawiki-20110129-all-titles-in-ns0.gz | marisa-benchmark -n5
#tries: 1 - 5
trie: patricia
tail: text
order: weight
predict: only IDs
#keys: 1174430
total length: 24438317
------+---------+---------+-------+-------+-------+-------+-------+-------
#tries    #nodes      size   build restore  lookup    find predict predict
                                                           breadth   depth
                   [bytes]   [K/s]   [K/s]   [K/s]   [K/s]   [K/s]   [K/s]
------+---------+---------+-------+-------+-------+-------+-------+-------
     1   1602151  10074222  303.47 1129.26 1003.79  903.41  863.55  793.53
     2   2136398   7355508  277.64  628.04  593.15  559.25  546.25  508.41
     3   2316597   6806033  266.92  556.60  524.30  495.54  485.30  455.21
     4   2394139   6626710  265.71  536.27  501.89  479.36  469.77  443.18
     5   2435290   6549380  261.57  531.42  504.05  475.48  466.04  438.22
------+---------+---------+-------+-------+-------+-------+-------+-------
```


---


## 英語版 Wikipedia タイトル ##

```
$ gzip -cd enwiki-20110115-all-titles-in-ns0.gz | head -100000 | tail -5
1990–91_Yemeni_League
1990–91_Yugoslav_Cup
1990–91_Yugoslav_First_League
1990–91_in_Argentine_football
1990–91_in_English_football

$ gzip -cd enwiki-20110115-all-titles-in-ns0.gz | marisa-benchmark -n5
#tries: 1 - 5
trie: patricia
tail: text
order: weight
predict: only IDs
#keys: 8279325
total length: 158943710
------+---------+---------+-------+-------+-------+-------+-------+-------
#tries    #nodes      size   build restore  lookup    find predict predict
                                                           breadth   depth
                   [bytes]   [K/s]   [K/s]   [K/s]   [K/s]   [K/s]   [K/s]
------+---------+---------+-------+-------+-------+-------+-------+-------
     1  11300640  58756132  207.09 1140.40  974.04  840.54  832.93  697.50
     2  13972659  44931886  192.68  601.70  558.66  512.02  509.18  451.93
     3  14661731  42688271  189.94  472.03  423.49  383.30  422.85  419.21
     4  14917808  41999440  189.46  526.34  498.45  461.50  459.96  412.32
     5  15037450  41746856  188.94  532.78  492.82  456.41  455.16  408.65
------+---------+---------+-------+-------+-------+-------+-------+-------
```


---


## 日本語ウェブコーパス ##

```
$ wget http://dist.s-yata.jp/corpus/nwc2010/ngrams/word/over999/7gms/7gm-0000.xz

$ xz -cd 7gm-0000.xz | head -5
" " 東京 都 "” で の	10480
" " 東京 都 "” を キーワード	9271
" ( ソーシャルブックマーク と は ) </S>	27592
" ( ダブル クォーテーション ) を つける	7460
" - レビュー を すべて 見る </S>	1082

$ xz -cd 7gm-0000.xz | marisa-benchmark -n5
#tries: 1 - 5
trie: patricia
tail: text
order: weight
predict: only IDs
#keys: 1023609
total length: 40778650
------+---------+---------+-------+-------+-------+-------+-------+-------
#tries    #nodes      size   build restore  lookup    find predict predict
                                                           breadth   depth
                   [bytes]   [K/s]   [K/s]   [K/s]   [K/s]   [K/s]   [K/s]
------+---------+---------+-------+-------+-------+-------+-------+-------
     1   1663207  19960427  219.66  781.38  787.39  736.41  752.65  752.65
     2   2490785  12379405  179.27  330.20  348.17  333.42  337.82  336.71
     3   2925488  10318696  166.71  263.82  270.80  263.14  265.87  264.50
     4   3150161   9445889  161.71  238.60  248.45  242.56  243.72  243.14
     5   3258557   9126576  159.44  236.40  241.42  234.24  236.95  235.85
------+---------+---------+-------+-------+-------+-------+-------+-------
```


---


## MeCab 用 IPA 辞書 ##

```
$ tar zxf mecab-ipadic-2.7.0-20070801.tar.gz

$ head -5 mecab-ipadic-2.7.0-20070801/Noun.csv | iconv -f euc-jp -t utf-8
仕舞い,1285,1285,5543,名詞,一般,*,*,*,*,仕舞い,シマイ,シマイ
綺,1285,1285,5622,名詞,一般,*,*,*,*,綺,アヤギヌ,アヤギヌ
洋裁,1285,1285,5618,名詞,一般,*,*,*,*,洋裁,ヨウサイ,ヨーサイ
組打ち,1285,1285,5622,名詞,一般,*,*,*,*,組打ち,クミウチ,クミウチ
畿内,1285,1285,5770,名詞,一般,*,*,*,*,畿内,キナイ,キナイ

$ marisa-benchmark mecab-ipadic-2.7.0-20070801/*.csv
#tries: 1 - 10
trie: patricia
tail: text
order: weight
predict: only IDs
#keys: 392126
total length: 30775421
------+---------+---------+-------+-------+-------+-------+-------+-------
#tries    #nodes      size   build restore  lookup    find predict predict
                                                           breadth   depth
                   [bytes]   [K/s]   [K/s]   [K/s]   [K/s]   [K/s]   [K/s]
------+---------+---------+-------+-------+-------+-------+-------+-------
     1    568175  30072450  186.73  768.87  700.22  653.54  642.83  642.83
     2   1183728  22519436  124.48  384.44  347.01  340.98  332.31  332.31
     3   1730237  15964306  101.59  225.36  207.47  204.23  201.09  202.13
     4   2050722  13168305   95.18  158.12  146.32  145.23  143.11  143.11
     5   2262289  11789755   89.94  127.31  118.83  117.40  116.36  116.70
     6   2418108  10350580   86.75  112.68  105.69  105.13  103.46  104.01
     7   2528235   8960459   84.51  104.01   97.54   96.82   95.41   96.11
     8   2594671   8365638   83.61   97.06   92.05   90.98   89.94   90.35
     9   2638735   8035810   83.25   92.48   87.92   87.14   85.99   86.37
    10   2670115   7792258   82.73   89.32   85.06   84.33   83.25   83.61
------+---------+---------+-------+-------+-------+-------+-------+-------
```


---


## WordNet 3.0 ##

```
$ tar zxf WordNet-3.0.tar.gz

$ grep '^[^ ]' WordNet-3.0/dict/data.noun | head -5
00001740 03 n 01 entity 0 003 ~ 00001930 n 0000 ~ 00002137 n 0000 ~ 04424418...
00001930 03 n 01 physical_entity 0 007 @ 00001740 n 0000 ~ 00002452 n 0000...
00002137 03 n 02 abstraction 0 abstract_entity 0 010 @ 00001740 n 0000...
00002452 03 n 01 thing 0 009 @ 00001930 n 0000 ~ 04347225 n 0000 ~ 09225146...
00002684 03 n 02 object 0 physical_object 0 039 @ 00001930 n 0000 + 00532607...

$ grep '^[^ ]' WordNet-3.0/dict/data.* | marisa-benchmark
#tries: 1 - 10
trie: patricia
tail: text
order: weight
predict: only IDs
#keys: 117659
total length: 24775316
------+---------+---------+-------+-------+-------+-------+-------+-------
#tries    #nodes      size   build restore  lookup    find predict predict
                                                           breadth   depth
                   [bytes]   [K/s]   [K/s]   [K/s]   [K/s]   [K/s]   [K/s]
------+---------+---------+-------+-------+-------+-------+-------+-------
     1    142461  21628018  116.49  560.28  735.37  692.11  735.37  692.11
     2    324198  20608849   97.24  336.17  336.17  326.83  336.17  367.68
     3    509372  20046308   80.04  222.00  245.12  240.12  240.12  245.12
     4    690338  19543527   69.21  168.08  170.52  175.61  178.27  175.61
     5    869714  19051271   60.96  140.07  143.49  140.07  141.76  141.76
     6   1048162  18573723   54.47  115.35  115.35  114.23  115.35  114.23
     7   1225631  18099778   49.44   98.05   97.24   96.44   97.24   96.44
     8   1401536  17630668   45.25   85.88   84.04   83.45   83.45   84.04
     9   1575331  17174213   41.14   74.94   73.08   72.18   72.18   72.63
    10   1745710  16733446   38.70   66.85   64.65   63.95   63.95   63.95
------+---------+---------+-------+-------+-------+-------+-------+-------
```